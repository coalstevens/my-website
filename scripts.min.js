function openLink(e){window.open(e,"_blank","noopener,noreferrer")}document.addEventListener("DOMContentLoaded",()=>{function e(){E.classList.remove("show"),w.pause(),w.currentTime=0,w.src="",f.src="",w.classList.add("hidden"),f.classList.add("hidden")}const t=document.body,n=document.querySelectorAll(".nav-link"),o=document.getElementById("theme-toggle"),s=document.documentElement;let c="dark"===localStorage.getItem("theme")||!localStorage.getItem("theme")&&window.matchMedia("(prefers-color-scheme: dark)").matches;const i=()=>{s.classList.toggle("light",!c),s.classList.toggle("dark",c),localStorage.setItem("theme",c?"dark":"light"),o.checked=!c};o.addEventListener("change",()=>{c=!o.checked,i()}),i(),n.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const n=e.parentElement.getAttribute("data-section");if("AboutMe"===n)window.scrollTo({behavior:"smooth",top:0});else{const e=document.getElementById(n);e&&e.scrollIntoView({behavior:"smooth",block:"start"})}})});const a=document.getElementById("Resume"),d=document.getElementById("Projects"),l=document.querySelector('.table-of-contents-link[data-section="AboutMe"]'),r=document.querySelector('.table-of-contents-link[data-section="Resume"]'),m=document.querySelector('.table-of-contents-link[data-section="Projects"]'),u=a.offsetTop,v=d.offsetTop,h=()=>{const e=window.scrollY;[l,r,m].forEach(e=>{e.classList.remove("active"),e.querySelector(".nav-line").classList.remove("active"),e.querySelector(".nav-link").classList.remove("active")});const n=window.innerHeight+e>=t.offsetHeight-2;n?(m.querySelector(".nav-line").classList.add("active"),m.querySelector(".nav-link").classList.add("active")):e<u?(l.querySelector(".nav-line").classList.add("active"),l.querySelector(".nav-link").classList.add("active")):e>=u&&e<v?(r.querySelector(".nav-line").classList.add("active"),r.querySelector(".nav-link").classList.add("active")):e>=v&&(m.querySelector(".nav-line").classList.add("active"),m.querySelector(".nav-link").classList.add("active"))};let y;window.addEventListener("scroll",()=>{clearTimeout(y),y=setTimeout(h,100)}),h();const p=15,L=1,g=(e,n)=>{const o=document.createElement("div");o.style.position="fixed",o.style.left=`${e-p/2}px`,o.style.top=`${n-p/2}px`,o.style.borderRadius="50%",o.style.width=`${p}px`,o.style.height=`${p}px`,o.style.border="1px solid var(--ripple)",o.style.backgroundColor="transparent",o.style.opacity="0.5",o.style.animation=`ripple ${L}s ease-out`,o.style.pointerEvents="none",t.appendChild(o),setTimeout(()=>{t.removeChild(o)},1e3*L)};window.addEventListener("mouseup",e=>g(e.clientX,e.clientY),{passive:!0}),window.addEventListener("touchend",e=>{for(const t of e.changedTouches)g(t.clientX,t.clientY)},{passive:!0});const k=document.querySelector('link[rel="stylesheet"]');k?k.addEventListener("load",()=>{t.classList.remove("hidden")}):window.addEventListener("DOMContentLoaded",()=>{t.classList.remove("hidden")});const E=document.getElementById("lightbox"),w=document.getElementById("lightbox-video"),f=document.getElementById("lightbox-image"),S=document.getElementById("lightbox-close"),b=document.querySelectorAll(".project-wrapper, .experience-wrapper");b.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.videoSrc,n=e.dataset.imgSrc,o=e.dataset.linkSrc;o?window.open(o,"_blank","noopener,noreferrer"):(t?(w.src=t,w.classList.remove("hidden"),f.classList.add("hidden"),w.play()):n&&(f.src=n,f.classList.remove("hidden"),w.classList.add("hidden"),w.pause(),w.currentTime=0,w.src=""),E.classList.contains("show")||E.classList.add("show"))})}),document.addEventListener("keydown",t=>{"Escape"!==t.key&&"Esc"!==t.key||e()}),S.addEventListener("click",()=>{e()}),E.addEventListener("click",t=>{t.target===E&&e()});const q=document.querySelectorAll(".inline-link");q.forEach(e=>{e.addEventListener("click",function(e){e.stopPropagation()})})});